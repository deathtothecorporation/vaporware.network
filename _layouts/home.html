<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    {% include custom-head.html %}
    <title>{{ page.title }}</title>
  </head>
  <body>
    <div class="h-full overflow-hidden">
      <main id="image-bleed" style="height: 100%; background-size: cover; background-position: center center; transition: background-image 0.5s;" class="mx-auto
        h-full flex flex-col justify-end">
          {% include navigation.html %}
          {{ content }}
          {% include footer.html %}
      </main>
    </div>

<script>
      const placeholderImage = 'assets/images/backgrounds/carless-city.png';
      const fullImageURL = 'assets/images/backgrounds/carless-city.png';
      const imageBleed = document.getElementById('image-bleed');

      const loadImage = (src, callback) => {
        const img = new Image();
        img.onload = callback;
        img.src = src;
      };

      // Load the full image in the background
      loadImage(fullImageURL, () => {
        // Once the full image is loaded, update the background
        imageBleed.style.backgroundImage = `url('${fullImageURL}')`;
      });
    </script>


  </body>
</html>

<style>
  #image-bleed {
    background-image: url('data:image/png;base64,HERE_IS_YOUR_BASE64_ENCODED_IMAGE');
  }
</style>

