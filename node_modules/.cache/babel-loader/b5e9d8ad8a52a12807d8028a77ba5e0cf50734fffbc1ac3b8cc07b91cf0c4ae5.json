{"ast":null,"code":"import { vModelText as _vModelText, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d21a9130\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"onSubmit\"];\nconst _hoisted_2 = {\n  class: \"flex flex-col\"\n};\nconst _hoisted_3 = [\"onKeyup\"];\nconst _hoisted_4 = {\n  class: \"w-full mt-8\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"mx-auto my-4 font-bold text-light-gray\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"form\", {\n    ref: \"waitlistForm\",\n    onSubmit: _withModifiers($setup.submitForm, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your email or Urbit ID\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.signupEntry = $event),\n    name: \"entry.1987957812\",\n    onKeyup: _withKeys($setup.submitForm, [\"enter\"]),\n    class: _normalizeClass([\"w-full py-8 font-mono text-center rounded-lg md:px-16 md:text-xl text-dark-gray\", $setup.signupEntry !== '' && $setup.invalid ? 'ring ring-red-300' : ''])\n  }, null, 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_3), [[_vModelText, $setup.signupEntry]]), _createElementVNode(\"div\", _hoisted_4, [$setup.signupEntry !== '' ? (_openBlock(), _createElementBlock(\"input\", {\n    key: 0,\n    class: _normalizeClass([$setup.invalid ? 'opacity-50' : 'cursor-pointer bg-white hover:shadow-sm', \"w-full py-4 text-lg text-center border rounded-lg shadow-md text-dark-gray\"]),\n    onClick: $setup.submitForm,\n    disabled: \"invalid\",\n    value: \"Notify me\"\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), $setup.signupEntry !== '' && $setup.invalid ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" Please enter a valid email or @p \")) : _createCommentVNode(\"v-if\", true)])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_1)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","ref","onSubmit","_withModifiers","$setup","submitForm","_hoisted_2","type","placeholder","signupEntry","$event","name","onKeyup","_withKeys","_normalizeClass","invalid","_hoisted_4","onClick","disabled","value","_hoisted_5"],"sources":["/home/vcavallo/code/vapor/vaporware.network/src/components/SignUp.vue"],"sourcesContent":["<template>\n  <div>\n    <form ref=\"waitlistForm\" @submit.prevent=\"submitForm\">\n      <div class=\"flex flex-col\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter your email or Urbit ID\"\n          v-model=\"signupEntry\"\n          name=\"entry.1987957812\"\n          @keyup.enter=\"submitForm\"\n          class=\"w-full py-8 font-mono text-center rounded-lg md:px-16 md:text-xl text-dark-gray\"\n\n          :class=\"(signupEntry !== '' && invalid) ? 'ring ring-red-300' : ''\"\n        />\n\n        <div class=\"w-full mt-8\">\n          <input :class=\"invalid ? 'opacity-50' : 'cursor-pointer bg-white hover:shadow-sm'\" class=\"w-full py-4 text-lg text-center border rounded-lg shadow-md text-dark-gray\" @click=\"submitForm\" disabled=\"invalid\" v-if=\"signupEntry !== ''\" value=\"Notify me\" />\n        </div>\n\n        <div class=\"mx-auto my-4 font-bold text-light-gray\" v-if=\"(signupEntry !== '' && invalid)\">\n          Please enter a valid email or @p\n        </div>\n      </div>\n    </form>\n  </div>\n\n</template>\n\n<script setup>\n\nimport {computed, ref} from 'vue';\n\nconst signupEntry = ref('')\nconst thanks = ref(true)\nconst waitlistForm = ref(null)\n\nconst invalid = computed(() => {\n  var patpee = new RegExp(/^~[a-z-]*$/)\n  var email = new RegExp(/^.*@.*\\..*$/)\n\n  const response = responseString.value\n\n  if (!patpee.test(response) && !email.test(response)) {\n    return true\n  }\n  return false\n})\n\nconst responseString = computed(() => {\n  return signupEntry.value.toString()\n})\n\nconst submitForm = () => {\n  // TODO: validate\n\n  if (invalid.value) {\n    return\n  }\n\n  let formData = new FormData()\n  formData.append(\"entry.1987957812\", response)\n\n  const url = \"https://docs.google.com/forms/u/3/d/e/1FAIpQLSfBDo4OJQ3iJrMqTcWrcg6m_qqP09Hni9w-44dirgOUri3pxA/formResponse\"\n\n  fetch(url, {\n    method: 'POST',\n    mode: 'no-cors',\n    body: formData,\n  }).then((r) => {\n    console.log('done ', r)\n    signupEntry.value = ''\n    thanks.value = true\n  }).catch((e) => {\n    console.log('bad ', { e })\n  })\n}\n\n</script>\n\n<style scoped>\n/* code... */\n</style>\n"],"mappings":";;;;EAGWA,KAAK,EAAC;AAAe;;;EAYnBA,KAAK,EAAC;AAAa;;;EAInBA,KAAK,EAAC;;;uBAlBjBC,mBAAA,CAuBM,cAtBJC,mBAAA,CAqBO;IArBDC,GAAG,EAAC,cAAc;IAAEC,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,UAAU;MAClDL,mBAAA,CAmBM,OAnBNM,UAmBM,G,gBAlBJN,mBAAA,CASE;IARAO,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,8BAA8B;+DACjCJ,MAAA,CAAAK,WAAW,GAAAC,MAAA;IACpBC,IAAI,EAAC,kBAAkB;IACtBC,OAAK,EAAAC,SAAA,CAAQT,MAAA,CAAAC,UAAU;IACxBP,KAAK,EAAAgB,eAAA,EAAC,iFAAiF,EAE9EV,MAAA,CAAAK,WAAW,WAAWL,MAAA,CAAAW,OAAO;8EAL7BX,MAAA,CAAAK,WAAW,E,GAQtBT,mBAAA,CAEM,OAFNgB,UAEM,GAD+MZ,MAAA,CAAAK,WAAW,W,cAA9NV,mBAAA,CAA2P;;IAAnPD,KAAK,EAAAgB,eAAA,EAAEV,MAAA,CAAAW,OAAO,6DAAmE,4EAA4E;IAAEE,OAAK,EAAEb,MAAA,CAAAC,UAAU;IAAEa,QAAQ,EAAC,SAAS;IAA2BC,KAAK,EAAC;kEAGpLf,MAAA,CAAAK,WAAW,WAAWL,MAAA,CAAAW,OAAO,I,cAAxFhB,mBAAA,CAEM,OAFNqB,UAEM,EAFqF,oCAE3F,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}